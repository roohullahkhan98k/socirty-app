{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EditNotification(){const[notificationHistory,setNotificationHistory]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const fetchNotificationHistory=async()=>{try{const response=await axios.get('http://192.168.0.109:8000/api/notifications');// Endpoint to fetch notification history\nsetNotificationHistory(response.data);setIsLoading(false);}catch(error){console.error('Error fetching notification history:',error);setIsLoading(false);}};fetchNotificationHistory();},[]);// Function to delete a notification\nconst deleteNotification=async notificationId=>{try{// Delete notification from the frontend list\nsetNotificationHistory(prevNotifications=>prevNotifications.filter(notification=>notification._id!==notificationId));// Delete notification from the database\nawait axios.delete(\"http://192.168.0.109:8000/api/notifications/\".concat(notificationId));}catch(error){console.error('Error deleting notification:',error);}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'center',minHeight:'100vh',backgroundColor:'#f0f0f0',color:'#000',padding:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:'#2980b9',marginBottom:'20px'},children:\"Notification History\"}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"div\",{style:{width:'80%',backgroundColor:'#fff',padding:'20px',borderRadius:'10px',boxShadow:'0 4px 8px rgba(0, 0, 0, 0.1)'},children:notificationHistory.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No notifications found.\"}):/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0},children:notificationHistory.map(notification=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:'10px',borderBottom:'1px solid #ccc',paddingBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:notification.title}),/*#__PURE__*/_jsx(\"p\",{children:notification.message}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Sent at: \",new Date(notification.createdAt).toLocaleString()]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteNotification(notification._id),style:{padding:'8px 16px',borderRadius:'5px',border:'none',background:'#e74c3c',color:'#fff',fontSize:'14px',fontWeight:'bold',cursor:'pointer',boxShadow:'0 2px 4px rgba(0, 0, 0, 0.2)',transition:'background-color 0.3s',marginTop:'10px'},children:\"Delete\"})]},notification._id))})})]});}export default EditNotification;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","EditNotification","notificationHistory","setNotificationHistory","isLoading","setIsLoading","fetchNotificationHistory","response","get","data","error","console","deleteNotification","notificationId","prevNotifications","filter","notification","_id","delete","concat","style","display","flexDirection","alignItems","minHeight","backgroundColor","color","padding","children","marginBottom","width","borderRadius","boxShadow","length","listStyle","map","borderBottom","paddingBottom","title","message","Date","createdAt","toLocaleString","onClick","border","background","fontSize","fontWeight","cursor","transition","marginTop"],"sources":["D:/website-master/website-master/src/components/Editnoti.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction EditNotification() {\r\n  const [notificationHistory, setNotificationHistory] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchNotificationHistory = async () => {\r\n      try {\r\n        const response = await axios.get('http://192.168.0.109:8000/api/notifications'); // Endpoint to fetch notification history\r\n        setNotificationHistory(response.data);\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.error('Error fetching notification history:', error);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchNotificationHistory();\r\n  }, []);\r\n\r\n  // Function to delete a notification\r\n  const deleteNotification = async (notificationId) => {\r\n    try {\r\n      // Delete notification from the frontend list\r\n      setNotificationHistory(prevNotifications => prevNotifications.filter(notification => notification._id !== notificationId));\r\n\r\n      // Delete notification from the database\r\n      await axios.delete(`http://192.168.0.109:8000/api/notifications/${notificationId}`);\r\n    } catch (error) {\r\n      console.error('Error deleting notification:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', minHeight: '100vh', backgroundColor: '#f0f0f0', color: '#000', padding: '20px' }}>\r\n      <h1 style={{ color: '#2980b9', marginBottom: '20px' }}>Notification History</h1>\r\n      {isLoading ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        <div style={{ width: '80%', backgroundColor: '#fff', padding: '20px', borderRadius: '10px', boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)' }}>\r\n          {notificationHistory.length === 0 ? (\r\n            <p>No notifications found.</p>\r\n          ) : (\r\n            <ul style={{ listStyle: 'none', padding: 0 }}>\r\n              {notificationHistory.map(notification => (\r\n                <li key={notification._id} style={{ marginBottom: '10px', borderBottom: '1px solid #ccc', paddingBottom: '10px' }}>\r\n                  <h3>{notification.title}</h3>\r\n                  <p>{notification.message}</p>\r\n                  <p>Sent at: {new Date(notification.createdAt).toLocaleString()}</p>\r\n                  <button onClick={() => deleteNotification(notification._id)} style={{ padding: '8px 16px', borderRadius: '5px', border: 'none', background: '#e74c3c', color: '#fff', fontSize: '14px', fontWeight: 'bold', cursor: 'pointer', boxShadow: '0 2px 4px rgba(0, 0, 0, 0.2)', transition: 'background-color 0.3s', marginTop: '10px' }}>Delete</button>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EditNotification;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}