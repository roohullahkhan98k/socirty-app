{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ApproveResidents(){const[pendingRequests,setPendingRequests]=useState([]);const navigate=useNavigate();useEffect(()=>{fetchPendingRequests();},[]);const fetchPendingRequests=async()=>{try{const response=await axios.get('http://192.168.0.109:8000/api/pending-service-providers');setPendingRequests(response.data);}catch(error){console.error('Error fetching pending requests:',error);}};const approveRequest=async id=>{try{await axios.put(\"http://192.168.0.109:8000/api/approve-service-provider/\".concat(id));// Remove the approved request from the list\nsetPendingRequests(pendingRequests.filter(request=>request._id!==id));}catch(error){console.error('Error approving request:',error);}};const rejectRequest=async id=>{try{await axios.put(\"http://192.168.0.109:8000/api/reject-service-provider/\".concat(id));// Remove the rejected request from the list\nsetPendingRequests(pendingRequests.filter(request=>request._id!==id));}catch(error){console.error('Error rejecting request:',error);}};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',alignItems:'stretch',minHeight:'100vh',backgroundColor:'#f0f0f0',color:'#000'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'20px',borderBottom:'1px solid #ccc',background:'#fff'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Approve ServiceProviders\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(-1),style:{padding:'10px 20px',textDecoration:'none',color:'#2980b9',borderRadius:'5px',border:'1px solid #2980b9',backgroundColor:'transparent',cursor:'pointer'},children:\"Back to Dashboard\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,padding:'20px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'20px'},children:\"Service Providers Waiting for Approval\"}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#fff',color:'#000',padding:'20px',borderRadius:'10px',boxShadow:'0 4px 8px rgba(0, 0, 0, 0.1)'},children:[pendingRequests.map(request=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h4\",{children:request.email}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Profession: \",request.profession]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Contact: \",request.contact]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>approveRequest(request._id),style:{marginRight:'10px',padding:'8px 16px',cursor:'pointer',backgroundColor:'#28a745',color:'#fff',border:'none',borderRadius:'5px'},children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>rejectRequest(request._id),style:{padding:'8px 16px',cursor:'pointer',backgroundColor:'#dc3545',color:'#fff',border:'none',borderRadius:'5px'},children:\"Reject\"})]},request._id)),pendingRequests.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No service providers waiting for approval.\"})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',padding:'20px',borderTop:'1px solid #ccc',background:'#fff'},children:/*#__PURE__*/_jsx(Link,{to:\"/\",style:{padding:'10px 20px',textDecoration:'none',color:'#2980b9',borderRadius:'5px',border:'1px solid #2980b9'},children:\"Logout\"})})]});}export default ApproveResidents;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","ApproveResidents","pendingRequests","setPendingRequests","navigate","fetchPendingRequests","response","get","data","error","console","approveRequest","id","put","concat","filter","request","_id","rejectRequest","style","display","flexDirection","alignItems","minHeight","backgroundColor","color","children","justifyContent","padding","borderBottom","background","onClick","textDecoration","borderRadius","border","cursor","flex","marginBottom","boxShadow","map","email","profession","contact","marginRight","length","borderTop","to"],"sources":["D:/website-master/website-master/src/components/Approve.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nfunction ApproveResidents() {\r\n  const [pendingRequests, setPendingRequests] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchPendingRequests();\r\n  }, []);\r\n\r\n  const fetchPendingRequests = async () => {\r\n    try {\r\n      const response = await axios.get('http://192.168.0.109:8000/api/pending-service-providers');\r\n      setPendingRequests(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching pending requests:', error);\r\n    }\r\n  };\r\n\r\n  const approveRequest = async (id) => {\r\n    try {\r\n      await axios.put(`http://192.168.0.109:8000/api/approve-service-provider/${id}`);\r\n      // Remove the approved request from the list\r\n      setPendingRequests(pendingRequests.filter(request => request._id !== id));\r\n    } catch (error) {\r\n      console.error('Error approving request:', error);\r\n    }\r\n  };\r\n\r\n  const rejectRequest = async (id) => {\r\n    try {\r\n      await axios.put(`http://192.168.0.109:8000/api/reject-service-provider/${id}`);\r\n      // Remove the rejected request from the list\r\n      setPendingRequests(pendingRequests.filter(request => request._id !== id));\r\n    } catch (error) {\r\n      console.error('Error rejecting request:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'stretch', minHeight: '100vh', backgroundColor: '#f0f0f0', color: '#000' }}>\r\n      {/* Header */}\r\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', padding: '20px', borderBottom: '1px solid #ccc', background: '#fff' }}>\r\n        <h2>Approve ServiceProviders</h2>\r\n        <button onClick={() => navigate(-1)} style={{ padding: '10px 20px', textDecoration: 'none', color: '#2980b9', borderRadius: '5px', border: '1px solid #2980b9', backgroundColor: 'transparent', cursor: 'pointer' }}>Back to Dashboard</button>\r\n      </div>\r\n\r\n      {/* Body */}\r\n      <div style={{ flex: 1, padding: '20px' }}>\r\n        <h3 style={{ marginBottom: '20px' }}>Service Providers Waiting for Approval</h3>\r\n        <div style={{ backgroundColor: '#fff', color: '#000', padding: '20px', borderRadius: '10px', boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)' }}>\r\n          {pendingRequests.map(request => (\r\n            <div key={request._id} style={{ marginBottom: '20px' }}>\r\n              <h4>{request.email}</h4>\r\n              <p>Profession: {request.profession}</p>\r\n              <p>Contact: {request.contact}</p>\r\n              <button onClick={() => approveRequest(request._id)} style={{ marginRight: '10px', padding: '8px 16px', cursor: 'pointer', backgroundColor: '#28a745', color: '#fff', border: 'none', borderRadius: '5px' }}>Approve</button>\r\n              <button onClick={() => rejectRequest(request._id)} style={{ padding: '8px 16px', cursor: 'pointer', backgroundColor: '#dc3545', color: '#fff', border: 'none', borderRadius: '5px' }}>Reject</button>\r\n            </div>\r\n          ))}\r\n          {pendingRequests.length === 0 && <p>No service providers waiting for approval.</p>}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Footer */}\r\n      <div style={{ display: 'flex', justifyContent: 'center', padding: '20px', borderTop: '1px solid #ccc', background: '#fff' }}>\r\n        <Link to=\"/\" style={{ padding: '10px 20px', textDecoration: 'none', color: '#2980b9', borderRadius: '5px', border: '1px solid #2980b9' }}>Logout</Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ApproveResidents;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}